---
title: "Learning Data Engineering: Module 1"
slug: learning-data-engineering-module-1

---

This is my tech journal tracking a data engineering course, here: [https://github.com/DataTalksClub/data-engineering-zoomcamp](https://github.com/DataTalksClub/data-engineering-zoomcamp).

## Prerequisites

* Install Docker (https://www.docker.com)
    
* Install Python 3.9+
    
* Download dataset: [https://www.nyc.gov/site/tlc/about/tlc-trip-record-data.page](https://www.nyc.gov/site/tlc/about/tlc-trip-record-data.page)
    
* Google Cloud Account
    

## **Docker Introduction**

Docker is a platform that packages applications and their dependencies into portable containers, ensuring consistent performance across environments. Docker images are created from a Docker file, and when run, they generate a container.

Installing a base image or additional resources in a container doesn't persist; any changes made during runtime are lost when the container shuts down.

```bash
docker run -it --entrypoint=bash python:3.9
```

Alternatively, a docker file is a text file with instructions to build the image, define the environment, dependencies, and setup needed for a container.

## Custom Pipeline with Docker

In this example, the data pipeline is copied to the container and executed. We created a docker file using a python base image.

### DOCKERFILE

```dockerfile
FROM python:3.9
RUN pip install pandas
WORKDIR /app
COPY pipeline_Source.py pipeline_Dest.py
ENTRYPOINT["python", "pipeline.py"]
```

`FROM` specifies the base image for the container, which in our case is Python 3.9.

`RUN` runs a command within the container. We installed panda library within the container.

`WORKDIR` sets the working directory.

`COPY` copies file from local machine into the working directory.

`ENTRYPOINT` defines the command that should be executed when the container starts.

### PIPELINE.PY

```python
import sys
import pandas as pd

print(sys.argv)
day = sys.argv[1]

# some fancy stuff w/ pandas

print(f'job finished successfully for day = {day}')
```

### BUILD AND RUN THE CONTAINER

```bash
# Make sure you're in the same folder as the Dockerfile and pipeline.py, or specify the path using the -f flag.

# build the image
docker build -t test:pandas .

# run the container with args passsed
docker run -it test:pandas 2025-04-30
```

```bash
# output
['pipeline.py', '2025-04-30']
job finished successfully for day = 2025-04-30
```

## Connect Postgres via PgAdmin

PostgreSQL is an open-source relational database management system, while pgAdmin is a GUI for managing PostgreSQL databases. pgAdmin can be downloaded on their official site ([https://www.pgadmin.org/download/pgadmin-4-container/](https://www.pgadmin.org/download/pgadmin-4-container/)).

### RUN POSTGRES WITH DOCKER

```bash
docker run -it  \
  -e POSTGRES_USER="user" \
  -e POSTGRES_PASSWORD="passwrd" \
  -e POSTGRES_DB="ny_taxi" \
  -v $(pwd)/ny_taxi_postgres_data:/var/lib/postgresql/data \
  -p 5432:5432 \
  postgres:13
```

```bash
docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="email@email.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -p 8080:80 \
  dpage/pgadmin4
```

After starting pgAdmin with the run command, we can visit [http://localhost:8080](http://localhost:8080) to access our database. However, the pgAdmin and PostgreSQL containers are separate and do not recognize each other, so they must be connected via a Docker network.

### DOCKER CREATE NETWORK

```bash
docker network create pg-network
```

```bash
docker run -it  \
  -e POSTGRES_USER="root" \
  -e POSTGRES_PASSWORD="root" \
  -e POSTGRES_DB="ny_taxi" \
  -v $(pwd)/ny_taxi_postgres_data:/var/lib/postgresql/data \
  -p 5432:5432 \
  --network=pg-network \
  --name pg-database \
  postgres:13
```

```bash
docker run -it \
  -e PGADMIN_DEFAULT_EMAIL="admin@admin.com" \
  -e PGADMIN_DEFAULT_PASSWORD="root" \
  -p 8080:80 \
  --network=pg-network \
  --name pgadmin \
  dpage/pgadmin4
```

You should be able to access pgAdmin interface via [http://localhost:8080](http://localhost:8080) using credentials.

### VIEW DATABASE

We registered a new server in pgAdmin “localhost“ that connects to “pg-database” by entering the necessary server details.

## Dockerizing Ingestion Script